Join:
	id: join
	name: "join"

	FloatLayout:
		id: bottom
		name: 'bottom'
		cols: 1
		canvas.before:
			Color:
				rgba: (2/255, 232/255, 144/255, 1)
			Rectangle:
				size: self.size
				pos: self.pos
		canvas.after:
			Color:
				rgba: (1, 1, 1, 1)
			Line:
				rectangle: (20, bottom.size[1]*.02, 500, 650)
				width: 1.5
		
		MDGridLayout:
			cols: 1
			size_hint: 1, 1
			#size: bottom.size[0]/2, bottom.size[1]*.95
			#x: bottom.size[0]/2 - 20
			pos_hint: {'center_x': .5, 'center_y': .5}
			
			canvas.after:
				Color:
					rgba: (12/255, 19/255, 77/255, .8)
				
				RoundedRectangle:
					size: self.size[0]-dp(10), self.size[1]-dp(15)
					pos: self.pos[0]+dp(5), self.pos[1]+dp(7.5)
					source: "images/hacker.png"	
			
		MDBoxLayout:
			id: bottom2
			name: 'bottom2'

			orientation: 'vertical'
			padding: dp(5), dp(5), dp(5), dp(5)
			md_bg_color: (.8, 0, 0, .87)
			size_hint: None, None
			size: 500, 650
			x: 20
			pos_hint: {'center_y': .5}

			MDGridLayout:
				cols: 2
				size_hint: (1, .2)

				MDFloatingActionButton:
					icon: 'arrow-left-bold-circle'
					elevation: 0
					md_bg_color: (.83, 0, 0, .87)
					on_press: app.root.current = 'home'

				MDGridLayout:
					cols: 1
					MDLabel:
						text: "[b][color=#FFFFFF]Registrate[/color][/b]"
						markup: True
						halign: 'left'
						font_size: dp(28)

					MDLabel:
						text: "[color=#FFFFFF]Es rapido y facil[/color]"
						markup: True
						halign: 'left'
						font_size: 16
			
			MDFloatLayout:
				cols: 1
				#spacing: dp(15)
				#padding: dp(0), dp(40), dp(0), dp(0)
				
				MDTextField:
					id: username
					name: 'username'
					

					text: '' # user_name
					hint_text: "Nombre de Usuario"
					current_hint_text_color: (1, 1, 1, 1)
					pos_hint: {'center_x': .5, 'center_y': .8}
					size_hint: .9, .2
					theme_text_color: 'Custom'
					text_color: (1, 1, 1, 1)
					line_color_normal: (0, 0, 0, 0)
					line_color_focus: (0, 0, 0, 0)
					multiline: False
					#on_focus: 
					#	if username.focus == True or (username.focus == False and username.text != ''):\
					#	username.hint_text = ''
					#	else:\
					#	username.hint_text = 'Nombre de Usuario'
					
					canvas.after:
						Color:
							rgba: (1, 1, 1, 1)
						
						Line:
							rounded_rectangle: (bottom2.pos[0]+12, self.pos[1]+5, bottom2.size[0]*.95, self.size[1], 20, 20, 20, 20, 100)
							width: 1.5

				MDTextField:
					id: metamask
					name: 'metamask'

					text: '' # 12345678
					hint_text: "Cuenta (Metamask)"
					current_hint_text_color: (1, 1, 1, 1)
					pos_hint: {'center_x': .5, 'center_y': .58}
					size_hint: .9, .2
					theme_text_color: 'Custom'
					text_color: (1, 1, 1, 1)
					line_color_normal: (0, 0, 0, 0)
					line_color_focus: (0, 0, 0, 0)
					multiline: False
					on_focus: 
					#	if metamask.focus == True or (metamask.focus == False and metamask.text != ''):\
					#	metamask.hint_text = ''
					#	else:\
					#	metamask.hint_text = 'Cuenta (Metamask)'
					canvas.after:
						Color:
							rgba: (1, 1, 1, 1)
						
						Line:
							rounded_rectangle: (bottom2.pos[0]+12, self.pos[1]+5, bottom2.size[0]*.95, self.size[1], 20, 20, 20, 20, 100)
							width: 1.5

				MDTextField:
					id: password
					name: 'password'

					text: '' # 12345678
					hint_text: "Primera Contraseña (8 - 27 caracteres)"
					current_hint_text_color: (1, 1, 1, 1)
					pos_hint: {'center_x': .5, 'center_y': .36}
					size_hint: .9, .2
					theme_text_color: 'Custom'
					text_color: (1, 1, 1, 1)
					line_color_normal: (0, 0, 0, 0)
					line_color_focus: (0, 0, 0, 0)
					multiline: False
					password: True
					#on_focus: 
					#	if password.focus == True or (password.focus == False and password.text != ''):\
					#	password.hint_text = ''
					#	else:\
					#	password.hint_text = 'Primera Contraseña (8 - 27 caracteres)'
					canvas.after:
						Color:
							rgba: (1, 1, 1, 1)
						
						Line:
							rounded_rectangle: (bottom2.pos[0]+12, self.pos[1]+5, bottom2.size[0]*.95, self.size[1], 20, 20, 20, 20, 100)
							width: 1.5
				
				MDTextField:
					id: password2
					name: 'password2'

					text: '' # 12345678
					hint_text: "Segunda Contraseña (8 - 27 caracteres)"
					current_hint_text_color: (1, 1, 1, 1)
					pos_hint: {'center_x': .5, 'center_y': .14}
					size_hint: .9, .2
					theme_text_color: 'Custom'
					text_color: (1, 1, 1, 1)
					line_color_normal: (0, 0, 0, 0)
					line_color_focus: (0, 0, 0, 0)
					multiline: False
					password:True
					#on_focus: 
					#	if password2.focus == True or (password2.focus == False and password2.text != ''):\
					#	password2.hint_text = ''
					#	else:\
					#	password2.hint_text = 'Contraseña (8 - 27 caracteres)'

					canvas.after:
						Color:
							rgba: (1, 1, 1, 1)
						
						Line:
							rounded_rectangle: (bottom2.pos[0]+12, self.pos[1]+5, bottom2.size[0]*.95, self.size[1], 20, 20, 20, 20, 100)
							width: 1.5
					
			MDFloatLayout:
				cols: 2
				#md_bg_color: (0, 1, 0, 1)
				size_hint: 1, .15
				MDIconButton:
					id: eye
					name: 'eye'

					icon: 'eye-off'
					x: bottom2.pos[0] + 20
					pos_hint: {'center_y': .87}
					theme_text_color: 'Custom'
					text_color: (1, 1, 1, 1)
					on_press:
						if eye.icon == 'eye-off':\
						eye.icon, password.password, password2.password = 'eye', False, False
						else:\
						eye.icon, password.password, password2.password = 'eye-off', True, True
				
				MDLabel:
					text: 'Mostrar Contraseña'
					x: bottom2.pos[0] + 60
					pos_hint: {'center_y': .87}
					theme_text_color: 'Custom'
					color: (1, 1, 1, 1)
					halign: 'left'
			
			MDFloatLayout:
				cols: 1
				spacing: dp(5)

				MDTextField:
					id: cert_information
					name: 'cert_information'
					
					hint_text: "Información del Usuario"
					current_hint_text_color: (1, 1, 1, 1)
					line_color_normal: (0, 0, 0, 0)
					line_color_focus: (0, 0, 0, 0)
					theme_text_color: ('Custom')
					text_color: (1, 1, 1, 1)
					font_size: 13.5
					multiline: True
					size_hint: .9, .7
					pos_hint: {'center_x': .5, 'top': 1.05}
					on_focus: 
						if cert_information.focus == True:\
						cert_information.focus = False
						else:\
						root.openDialog(title='Campo Deshabilitado', text='En este campo se mostrara la infromación final (una vez se hayan generado las llaves.')
						
					canvas.after:
						Color:
							rgba: (1, 1, 1, 1)
						
						Line:
							rounded_rectangle: (bottom2.pos[0]+12, self.pos[1], bottom2.size[0]*.95, self.size[1], 20, 20, 20, 20, 100)
							width: 1.5

				MDGridLayout:
					id: checkpoint
					name: 'checkpoint'

					cols: 2
					pos_hint: {'center_x': .5, 'top': .32}
					spacing: dp(10)
					size_hint: 1, .15
					
					Button:
						id: gen_keys
						name: 'gen_keys'

						text: "Generar Claves"
						color: (17/255, 212/255, 179/255, 1)
						background_color: (0, 0, 0, 0)
						on_press: root.validate(username, metamask, password, password2)

						canvas.before:
							Color:
								rgba: (1, 1, 1, 1)
							Rectangle:
								size: self.size
								pos: self.pos
						canvas.after:
							Color:
								rgba: (17/255, 212/255, 179/255, 1)
							
							Line:
								rectangle: checkpoint.pos[0], checkpoint.pos[1], bottom2.size[0]/2-10, checkpoint.pos[1]*.64
								width: 1.3

					Button:
						id: empty
						name: 'empty'

						text: "Vaciar campos"
						color: (17/255, 212/255, 179/255, 1)
						background_color: (0, 0, 0, 0)
						disabled: True
						on_press: root.empty(username, metamask, password, password2, cert_information)
						
						canvas.before:
							Color:
								rgba: (1, 1, 1, 1)
							Rectangle:
								size: self.size
								pos: self.pos
						canvas.after:
							Color:
								rgba: (17/255, 212/255, 179/255, 1)
							
							Line:
								rectangle: checkpoint.size[0]/2+checkpoint.pos[0]+5, checkpoint.pos[1], checkpoint.size[0]/2-5, checkpoint.pos[1]*.64
								width: 1.3

				Button:
					id: save
					name: 'save'

					text: "Guardar"
					color: (17/255, 212/255, 179/255, 1)
					background_color: (0, 0, 0, 0)	
					pos_hint: {'center_x': .5, 'top': .15}
					disabled: True
					on_press: root.save(username.text, metamask.text, password.text, password2.text)
					canvas.before:
						Color:
							rgba: (1, 1, 1, 1)
						Rectangle:
							size: checkpoint.size[0], checkpoint.size[1]
							pos: checkpoint.pos[0], checkpoint.pos[1]*.3
					canvas.after:
						Color:
							rgba: (17/255, 212/255, 179/255, 1)
						
						Line:
							rectangle: checkpoint.pos[0], checkpoint.pos[1]*.3, checkpoint.size[0], checkpoint.size[1]
							width: 1.3